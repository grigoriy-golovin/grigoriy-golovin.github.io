"use strict";var slideShow=function(t,e){var n,i,o=document.querySelector(t),s=o.querySelector(".slider__items"),r=o.querySelectorAll(".slider__item"),a=o.querySelectorAll(".slider__control"),l=0,c=0,d=[],u=0,m=r.length-1,f={isAutoplay:!1,directionAutoplay:"next",delayAutoplay:5e3,isPauseOnHover:!0};for(var v in e)v in f&&(f[v]=e[v]);for(var p=0,g=r.length;p<g;p++)d.push({item:r[p],position:p,transform:0});var h={getItemIndex:function(t){for(var e=0,n=0,i=d.length;n<i;n++)(d[n].position<d[e].position&&"min"===t||d[n].position>d[e].position&&"max"===t)&&(e=n);return e},getItemPosition:function(t){return d[h.getItemIndex(t)].position}},y=function(t){var e,n=u;"next"===t?(++l>h.getItemPosition("max")&&(e=h.getItemIndex("min"),d[e].position=h.getItemPosition("max")+1,d[e].transform+=100*d.length,d[e].item.style.transform="translateX("+d[e].transform+"%)"),c-=100,(u+=1)>m&&(u=0)):(--l<h.getItemPosition("min")&&(e=h.getItemIndex("max"),d[e].position=h.getItemPosition("min")-1,d[e].transform-=100*d.length,d[e].item.style.transform="translateX("+d[e].transform+"%)"),c+=100,(u-=1)<0&&(u=m)),s.style.transform="translateX("+c+"%)",i[n].classList.remove("active"),i[u].classList.add("active")},_=function(){f.isAutoplay&&(x(),n=setInterval((function(){y(f.directionAutoplay)}),f.delayAutoplay))},x=function(){clearInterval(n)};return function(){var e=document.createElement("ol");e.classList.add("slider__indicators"),e.classList.add(t.substr(1)+"__indicators");for(var n=0,s=r.length;n<s;n++){var a=document.createElement("li");0===n&&a.classList.add("active"),a.setAttribute("data-slide-to",n),e.appendChild(a)}o.appendChild(e),i=o.querySelectorAll(".slider__indicators > li")}(),function(){var t=0;if("ontouchstart"in window||navigator.maxTouchPoints)o.addEventListener("touchstart",(function(e){t=e.changedTouches[0].clientX,_()})),o.addEventListener("touchend",(function(e){var n=e.changedTouches[0].clientX-t;n>50?y("prev"):n<-50&&y("next"),_()}));else for(var e=0,n=a.length;e<n;e++)a[e].classList.add("slider__control_show");o.addEventListener("click",(function(t){t.target.classList.contains("slider__control")?(t.preventDefault(),y(t.target.classList.contains("slider__control_next")?"next":"prev"),_()):t.target.getAttribute("data-slide-to")&&(t.preventDefault(),function(t){for(var e=0,n=t>u?"next":"prev";t!==u&&e<=m;)y(n),e++}(parseInt(t.target.getAttribute("data-slide-to"))),_())})),document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState?x():_()}),!1),f.isPauseOnHover&&f.isAutoplay&&(o.addEventListener("mouseenter",(function(){x()})),o.addEventListener("mouseleave",(function(){_()})))}(),_(),{next:function(){y("next")},left:function(){y("prev")},stop:function(){f.isAutoplay=!1,x()},cycle:function(){f.isAutoplay=!0,_()}}};slideShow(".article-list",{isAutoplay:!1}),slideShow(".link-article",{isAutoplay:!1});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNsaWRlci5qcyJdLCJuYW1lcyI6WyJzbGlkZVNob3ciLCJzZWxlY3RvciIsImNvbmZpZyIsIl90aW1lcklkIiwiX2luZGljYXRvckl0ZW1zIiwiX3NsaWRlciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIl9zbGlkZXJDb250YWluZXIiLCJfc2xpZGVySXRlbXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiX3NsaWRlckNvbnRyb2xzIiwiX2N1cnJlbnRQb3NpdGlvbiIsIl90cmFuc2Zvcm1WYWx1ZSIsIl9pdGVtc0FycmF5IiwiX2luZGljYXRvckluZGV4IiwiX2luZGljYXRvckluZGV4TWF4IiwibGVuZ3RoIiwiX2NvbmZpZyIsImlzQXV0b3BsYXkiLCJkaXJlY3Rpb25BdXRvcGxheSIsImRlbGF5QXV0b3BsYXkiLCJpc1BhdXNlT25Ib3ZlciIsImtleSIsImkiLCJwdXNoIiwiaXRlbSIsInBvc2l0aW9uIiwidHJhbnNmb3JtIiwiZ2V0SXRlbUluZGV4IiwibW9kZSIsImluZGV4IiwiZ2V0SXRlbVBvc2l0aW9uIiwiX21vdmUiLCJkaXJlY3Rpb24iLCJuZXh0SXRlbSIsImN1cnJlbnRJbmRpY2F0b3IiLCJzdHlsZSIsImNsYXNzTGlzdCIsInJlbW92ZSIsImFkZCIsIl9zdGFydEF1dG9wbGF5IiwiX3N0b3BBdXRvcGxheSIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsImluZGljYXRvcnNDb250YWluZXIiLCJjcmVhdGVFbGVtZW50Iiwic3Vic3RyIiwic2xpZGVySW5kaWNhdG9yc0l0ZW0iLCJzZXRBdHRyaWJ1dGUiLCJhcHBlbmRDaGlsZCIsIl9hZGRJbmRpY2F0b3JzIiwiX3N0YXJ0WCIsIndpbmRvdyIsIm5hdmlnYXRvciIsIm1heFRvdWNoUG9pbnRzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJjaGFuZ2VkVG91Y2hlcyIsImNsaWVudFgiLCJfZGVsdGFYIiwidGFyZ2V0IiwiY29udGFpbnMiLCJwcmV2ZW50RGVmYXVsdCIsImdldEF0dHJpYnV0ZSIsIl9tb3ZlVG8iLCJwYXJzZUludCIsInZpc2liaWxpdHlTdGF0ZSIsIl9zZXRVcExpc3RlbmVycyIsIm5leHQiLCJsZWZ0Iiwic3RvcCIsImN5Y2xlIl0sIm1hcHBpbmdzIjoiQUFBQSxhQUNBLElBQUlBLFVBQ0ssU0FBVUMsRUFBVUMsR0FDekIsSUFRRUMsRUFDQUMsRUFURUMsRUFBVUMsU0FBU0MsY0FBY04sR0FDbkNPLEVBQW1CSCxFQUFRRSxjQUFjLGtCQUN6Q0UsRUFBZUosRUFBUUssaUJBQWlCLGlCQUN4Q0MsRUFBa0JOLEVBQVFLLGlCQUFpQixvQkFDM0NFLEVBQW1CLEVBQ25CQyxFQUFrQixFQUVsQkMsRUFBYyxHQUdkQyxFQUFrQixFQUNsQkMsRUFBcUJQLEVBQWFRLE9BQVMsRUFHM0NDLEVBQVUsQ0FDUkMsWUFBWSxFQUNaQyxrQkFBbUIsT0FDbkJDLGNBQWUsSUFDZkMsZ0JBQWdCLEdBSXBCLElBQUssSUFBSUMsS0FBT3JCLEVBQ1ZxQixLQUFPTCxJQUNUQSxFQUFRSyxHQUFPckIsRUFBT3FCLElBSzFCLElBQUssSUFBSUMsRUFBSSxFQUFHUCxFQUFTUixFQUFhUSxPQUFRTyxFQUFJUCxFQUFRTyxJQUN4RFYsRUFBWVcsS0FBSyxDQUFFQyxLQUFNakIsRUFBYWUsR0FBSUcsU0FBVUgsRUFBR0ksVUFBVyxJQUlwRSxJQUFJRCxFQUFXLENBQ2JFLGFBQWMsU0FBVUMsR0FFdEIsSUFEQSxJQUFJQyxFQUFRLEVBQ0hQLEVBQUksRUFBR1AsRUFBU0gsRUFBWUcsT0FBUU8sRUFBSVAsRUFBUU8sS0FFcERWLEVBQVlVLEdBQUdHLFNBQVdiLEVBQVlpQixHQUFPSixVQUNuQyxRQUFURyxHQUNEaEIsRUFBWVUsR0FBR0csU0FBV2IsRUFBWWlCLEdBQU9KLFVBQ25DLFFBQVRHLEtBRUZDLEVBQVFQLEdBR1osT0FBT08sR0FFVEMsZ0JBQWlCLFNBQVVGLEdBQ3pCLE9BQU9oQixFQUFZYSxFQUFTRSxhQUFhQyxJQUFPSCxXQUtoRE0sRUFBUSxTQUFVQyxHQUNwQixJQUFJQyxFQUNGQyxF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QUE3QmxELFNBQVM2RCxnQkFDWHpCLElBRUFELE9BR0osR0FFRXZCLEVBQVFJLGdCQUFrQkosRUFBUUMsYUFDcENkLEVBQVFtRCxpQkFBaUIsY0FBYyxXQUNyQ2QsT0FFRnJDLEVBQVFtRCxpQkFBaUIsY0FBYyxXQUNyQ2YsUUFRTjJCLEdBRUEzQixJQUVPLENBRUw0QixLQUFNLFdBQ0pwQyxFQUFNLFNBR1JxQyxLQUFNLFdBQ0pyQyxFQUFNLFNBR1JzQyxLQUFNLFdBQ0pyRCxFQUFRQyxZQUFhLEVBQ3JCdUIsS0FHRjhCLE1BQU8sV0FDTHRELEVBQVFDLFlBQWEsRUFDckJzQixPQU1SekMsVUFBVSxnQkFBaUIsQ0FDekJtQixZQUFZLElBRWRuQixVQUFVLGdCQUFpQixDQUN6Qm1CLFlBQVkiLCJmaWxlIjoic2xpZGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgc2xpZGVTaG93ID0gKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChzZWxlY3RvciwgY29uZmlnKSB7XG4gICAgdmFyIF9zbGlkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKSwgLy8g0L7RgdC90L7QstC90YvQuSDRjdC70LXQvNC10L3RgiDQsdC70L7QutCwXG4gICAgICBfc2xpZGVyQ29udGFpbmVyID0gX3NsaWRlci5xdWVyeVNlbGVjdG9yKFwiLnNsaWRlcl9faXRlbXNcIiksIC8vINC60L7QvdGC0LXQudC90LXRgCDQtNC70Y8gLnNsaWRlci1pdGVtXG4gICAgICBfc2xpZGVySXRlbXMgPSBfc2xpZGVyLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc2xpZGVyX19pdGVtXCIpLCAvLyDQutC+0LvQu9C10LrRhtC40Y8gLnNsaWRlci1pdGVtXG4gICAgICBfc2xpZGVyQ29udHJvbHMgPSBfc2xpZGVyLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc2xpZGVyX19jb250cm9sXCIpLCAvLyDRjdC70LXQvNC10L3RgtGLINGD0L/RgNCw0LLQu9C10L3QuNGPXG4gICAgICBfY3VycmVudFBvc2l0aW9uID0gMCwgLy8g0L/QvtC30LjRhtC40Y8g0LvQtdCy0L7Qs9C+INCw0LrRgtC40LLQvdC+0LPQviDRjdC70LXQvNC10L3RgtCwXG4gICAgICBfdHJhbnNmb3JtVmFsdWUgPSAwLCAvLyDQt9C90LDRh9C10L3QuNC1INGC0YDQsNC90YTRgdC+0YTRgNC80LDRhtC40LggLnNsaWRlcl93cmFwcGVyXG4gICAgICBfdHJhbnNmb3JtU3RlcCA9IDEwMCwgLy8g0LLQtdC70LjRh9C40L3QsCDRiNCw0LPQsCAo0LTQu9GPINGC0YDQsNC90YHRhNC+0YDQvNCw0YbQuNC4KVxuICAgICAgX2l0ZW1zQXJyYXkgPSBbXSwgLy8g0LzQsNGB0YHQuNCyINGN0LvQtdC80LXQvdGC0L7QslxuICAgICAgX3RpbWVySWQsXG4gICAgICBfaW5kaWNhdG9ySXRlbXMsXG4gICAgICBfaW5kaWNhdG9ySW5kZXggPSAwLFxuICAgICAgX2luZGljYXRvckluZGV4TWF4ID0gX3NsaWRlckl0ZW1zLmxlbmd0aCAtIDEsXG4gICAgICBfc3RlcFRvdWNoID0gNTAsXG4gICAgICBfc2VsZWN0b3IgPSBzZWxlY3RvcixcbiAgICAgIF9jb25maWcgPSB7XG4gICAgICAgIGlzQXV0b3BsYXk6IGZhbHNlLCAvLyDQsNCy0YLQvtC80LDRgtC40YfQtdGB0LrQsNGPINGB0LzQtdC90LAg0YHQu9Cw0LnQtNC+0LJcbiAgICAgICAgZGlyZWN0aW9uQXV0b3BsYXk6IFwibmV4dFwiLCAvLyDQvdCw0L/RgNCw0LLQu9C10L3QuNC1INGB0LzQtdC90Ysg0YHQu9Cw0LnQtNC+0LJcbiAgICAgICAgZGVsYXlBdXRvcGxheTogNTAwMCwgLy8g0LjQvdGC0LXRgNCy0LDQuyDQvNC10LbQtNGDINCw0LLRgtC+0LzQsNGC0LjRh9C10YHQutC+0Lkg0YHQvNC10L3QvtC5INGB0LvQsNC50LTQvtCyXG4gICAgICAgIGlzUGF1c2VPbkhvdmVyOiB0cnVlLCAvLyDRg9GB0YLQsNC90LDQstC70LjQstCw0YLRjCDQu9C4INC/0LDRg9C30YMg0L/RgNC4INC/0L7QtNC90LXRgdC10L3QuNC4INC60YPRgNGB0L7RgNCwINC6INGB0LvQsNC50LTQtdGA0YNcbiAgICAgIH07XG5cbiAgICAvLyDQvdCw0YHRgtGA0L7QudC60LAg0LrQvtC90YTQuNCz0YPRgNCw0YbQuNC4INGB0LvQsNC50LTQtdGA0LAg0LIg0LfQsNCy0LjRgdC40LzQvtGB0YLQuCDQvtGCINC/0L7Qu9GD0YfQtdC90L3Ri9GFINC60LvRjtGH0LXQuVxuICAgIGZvciAodmFyIGtleSBpbiBjb25maWcpIHtcbiAgICAgIGlmIChrZXkgaW4gX2NvbmZpZykge1xuICAgICAgICBfY29uZmlnW2tleV0gPSBjb25maWdba2V5XTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyDQvdCw0L/QvtC70L3QtdC90LjQtSDQvNCw0YHRgdC40LLQsCBfaXRlbXNBcnJheVxuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBfc2xpZGVySXRlbXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIF9pdGVtc0FycmF5LnB1c2goeyBpdGVtOiBfc2xpZGVySXRlbXNbaV0sIHBvc2l0aW9uOiBpLCB0cmFuc2Zvcm06IDAgfSk7XG4gICAgfVxuXG4gICAgLy8g0L/QtdGA0LXQvNC10L3QvdCw0Y8gcG9zaXRpb24g0YHQvtC00LXRgNC20LjRgiDQvNC10YLQvtC00Ysg0YEg0L/QvtC80L7RidGM0Y4g0LrQvtGC0L7RgNC+0Lkg0LzQvtC20L3QviDQv9C+0LvRg9GH0LjRgtGMINC80LjQvdC40LzQsNC70YzQvdGL0Lkg0Lgg0LzQsNC60YHQuNC80LDQu9GM0L3Ri9C5INC40L3QtNC10LrRgSDRjdC70LXQvNC10L3RgtCwLCDQsCDRgtCw0LrQttC1INGB0L7QvtGC0LLQtdGC0YHRgtCy0YPRjtGJ0LXQvNGDINGN0YLQvtC80YMg0LjQvdC00LXQutGB0YMg0L/QvtC30LjRhtC40Y5cbiAgICB2YXIgcG9zaXRpb24gPSB7XG4gICAgICBnZXRJdGVtSW5kZXg6IGZ1bmN0aW9uIChtb2RlKSB7XG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBfaXRlbXNBcnJheS5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIChfaXRlbXNBcnJheVtpXS5wb3NpdGlvbiA8IF9pdGVtc0FycmF5W2luZGV4XS5wb3NpdGlvbiAmJlxuICAgICAgICAgICAgICBtb2RlID09PSBcIm1pblwiKSB8fFxuICAgICAgICAgICAgKF9pdGVtc0FycmF5W2ldLnBvc2l0aW9uID4gX2l0ZW1zQXJyYXlbaW5kZXhdLnBvc2l0aW9uICYmXG4gICAgICAgICAgICAgIG1vZGUgPT09IFwibWF4XCIpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBpbmRleCA9IGk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgIH0sXG4gICAgICBnZXRJdGVtUG9zaXRpb246IGZ1bmN0aW9uIChtb2RlKSB7XG4gICAgICAgIHJldHVybiBfaXRlbXNBcnJheVtwb3NpdGlvbi5nZXRJdGVtSW5kZXgobW9kZSldLnBvc2l0aW9uO1xuICAgICAgfSxcbiAgICB9O1xuXG4gICAgLy8g0YTRg9C90LrRhtC40Y8sINCy0YvQv9C+0LvQvdGP0Y7RidCw0Y8g0YHQvNC10L3RgyDRgdC70LDQudC00LAg0LIg0YPQutCw0LfQsNC90L3QvtC8INC90LDQv9GA0LDQstC70LXQvdC40LhcbiAgICB2YXIgX21vdmUgPSBmdW5jdGlvbiAoZGlyZWN0aW9uKSB7XG4gICAgICB2YXIgbmV4dEl0ZW0sXG4gICAgICAgIGN1cnJlbnRJbmRpY2F0b3IgPSBfaW5kaWNhdG9ySW5kZXg7XG4gICAgICBpZiAoZGlyZWN0aW9uID09PSBcIm5leHRcIikge1xuICAgICAgICBfY3VycmVudFBvc2l0aW9uKys7XG4gICAgICAgIGlmIChfY3VycmVudFBvc2l0aW9uID4gcG9zaXRpb24uZ2V0SXRlbVBvc2l0aW9uKFwibWF4XCIpKSB7XG4gICAgICAgICAgbmV4dEl0ZW0gPSBwb3NpdGlvbi5nZXRJdGVtSW5kZXgoXCJtaW5cIik7XG4gICAgICAgICAgX2l0ZW1zQXJyYXlbbmV4dEl0ZW1dLnBvc2l0aW9uID0gcG9zaXRpb24uZ2V0SXRlbVBvc2l0aW9uKFwibWF4XCIpICsgMTtcbiAgICAgICAgICBfaXRlbXNBcnJheVtuZXh0SXRlbV0udHJhbnNmb3JtICs9IF9pdGVtc0FycmF5Lmxlbmd0aCAqIDEwMDtcbiAgICAgICAgICBfaXRlbXNBcnJheVtuZXh0SXRlbV0uaXRlbS5zdHlsZS50cmFuc2Zvcm0gPVxuICAgICAgICAgICAgXCJ0cmFuc2xhdGVYKFwiICsgX2l0ZW1zQXJyYXlbbmV4dEl0ZW1dLnRyYW5zZm9ybSArIFwiJSlcIjtcbiAgICAgICAgfVxuICAgICAgICBfdHJhbnNmb3JtVmFsdWUgLT0gX3RyYW5zZm9ybVN0ZXA7XG4gICAgICAgIF9pbmRpY2F0b3JJbmRleCA9IF9pbmRpY2F0b3JJbmRleCArIDE7XG4gICAgICAgIGlmIChfaW5kaWNhdG9ySW5kZXggPiBfaW5kaWNhdG9ySW5kZXhNYXgpIHtcbiAgICAgICAgICBfaW5kaWNhdG9ySW5kZXggPSAwO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfY3VycmVudFBvc2l0aW9uLS07XG4gICAgICAgIGlmIChfY3VycmVudFBvc2l0aW9uIDwgcG9zaXRpb24uZ2V0SXRlbVBvc2l0aW9uKFwibWluXCIpKSB7XG4gICAgICAgICAgbmV4dEl0ZW0gPSBwb3NpdGlvbi5nZXRJdGVtSW5kZXgoXCJtYXhcIik7XG4gICAgICAgICAgX2l0ZW1zQXJyYXlbbmV4dEl0ZW1dLnBvc2l0aW9uID0gcG9zaXRpb24uZ2V0SXRlbVBvc2l0aW9uKFwibWluXCIpIC0gMTtcbiAgICAgICAgICBfaXRlbXNBcnJheVtuZXh0SXRlbV0udHJhbnNmb3JtIC09IF9pdGVtc0FycmF5Lmxlbmd0aCAqIDEwMDtcbiAgICAgICAgICBfaXRlbXNBcnJheVtuZXh0SXRlbV0uaXRlbS5zdHlsZS50cmFuc2Zvcm0gPVxuICAgICAgICAgICAgXCJ0cmFuc2xhdGVYKFwiICsgX2l0ZW1zQXJyYXlbbmV4dEl0ZW1dLnRyYW5zZm9ybSArIFwiJSlcIjtcbiAgICAgICAgfVxuICAgICAgICBfdHJhbnNmb3JtVmFsdWUgKz0gX3RyYW5zZm9ybVN0ZXA7XG4gICAgICAgIF9pbmRpY2F0b3JJbmRleCA9IF9pbmRpY2F0b3JJbmRleCAtIDE7XG4gICAgICAgIGlmIChfaW5kaWNhdG9ySW5kZXggPCAwKSB7XG4gICAgICAgICAgX2luZGljYXRvckluZGV4ID0gX2luZGljYXRvckluZGV4TWF4O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBfc2xpZGVyQ29udGFpbmVyLnN0eWxlLnRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWChcIiArIF90cmFuc2Zvcm1WYWx1ZSArIFwiJSlcIjtcbiAgICAgIF9pbmRpY2F0b3JJdGVtc1tjdXJyZW50SW5kaWNhdG9yXS5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xuICAgICAgX2luZGljYXRvckl0ZW1zW19pbmRpY2F0b3JJbmRleF0uY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcbiAgICB9O1xuXG4gICAgLy8g0YTRg9C90LrRhtC40Y8sINC+0YHRg9GJ0LXRgdGC0LLQu9GP0Y7RidCw0Y8g0L/QtdGA0LXRhdC+0LQg0Log0YHQu9Cw0LnQtNGDINC/0L4g0LXQs9C+INC/0L7RgNGP0LTQutC+0LLQvtC80YMg0L3QvtC80LXRgNGDXG4gICAgdmFyIF9tb3ZlVG8gPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgIHZhciBpID0gMCxcbiAgICAgICAgZGlyZWN0aW9uID0gaW5kZXggPiBfaW5kaWNhdG9ySW5kZXggPyBcIm5leHRcIiA6IFwicHJldlwiO1xuICAgICAgd2hpbGUgKGluZGV4ICE9PSBfaW5kaWNhdG9ySW5kZXggJiYgaSA8PSBfaW5kaWNhdG9ySW5kZXhNYXgpIHtcbiAgICAgICAgX21vdmUoZGlyZWN0aW9uKTtcbiAgICAgICAgaSsrO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyDRhNGD0L3QutGG0LjRjyDQtNC70Y8g0LfQsNC/0YPRgdC60LAg0LDQstGC0L7QvNCw0YLQuNGH0LXRgdC60L7QuSDRgdC80LXQvdGLINGB0LvQsNC50LTQvtCyINGH0LXRgNC10Lcg0L/RgNC+0LzQtdC20YPRgtC60Lgg0LLRgNC10LzQtdC90LhcbiAgICB2YXIgX3N0YXJ0QXV0b3BsYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIV9jb25maWcuaXNBdXRvcGxheSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBfc3RvcEF1dG9wbGF5KCk7XG4gICAgICBfdGltZXJJZCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX21vdmUoX2NvbmZpZy5kaXJlY3Rpb25BdXRvcGxheSk7XG4gICAgICB9LCBfY29uZmlnLmRlbGF5QXV0b3BsYXkpO1xuICAgIH07XG5cbiAgICAvLyDRhNGD0L3QutGG0LjRjywg0L7RgtC60LvRjtGH0LDRjtGJ0LDRjyDQsNCy0YLQvtC80LDRgtC40YfQtdGB0LrRg9GOINGB0LzQtdC90YMg0YHQu9Cw0LnQtNC+0LJcbiAgICB2YXIgX3N0b3BBdXRvcGxheSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwoX3RpbWVySWQpO1xuICAgIH07XG5cbiAgICAvLyDRhNGD0L3QutGG0LjRjywg0LTQvtCx0LDQstC70Y/RjtGJ0LDRjyDQuNC90LTQuNC60LDRgtC+0YDRiyDQuiDRgdC70LDQudC00LXRgNGDXG4gICAgdmFyIF9hZGRJbmRpY2F0b3JzID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGluZGljYXRvcnNDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib2xcIik7XG4gICAgICBpbmRpY2F0b3JzQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJzbGlkZXJfX2luZGljYXRvcnNcIik7XG4gICAgICBpbmRpY2F0b3JzQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoc2VsZWN0b3Iuc3Vic3RyKDEpICsgXCJfX2luZGljYXRvcnNcIik7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gX3NsaWRlckl0ZW1zLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBzbGlkZXJJbmRpY2F0b3JzSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcbiAgICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgICBzbGlkZXJJbmRpY2F0b3JzSXRlbS5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xuICAgICAgICB9XG4gICAgICAgIHNsaWRlckluZGljYXRvcnNJdGVtLnNldEF0dHJpYnV0ZShcImRhdGEtc2xpZGUtdG9cIiwgaSk7XG4gICAgICAgIGluZGljYXRvcnNDb250YWluZXIuYXBwZW5kQ2hpbGQoc2xpZGVySW5kaWNhdG9yc0l0ZW0pO1xuICAgICAgfVxuICAgICAgX3NsaWRlci5hcHBlbmRDaGlsZChpbmRpY2F0b3JzQ29udGFpbmVyKTtcbiAgICAgIF9pbmRpY2F0b3JJdGVtcyA9IF9zbGlkZXIucXVlcnlTZWxlY3RvckFsbChcIi5zbGlkZXJfX2luZGljYXRvcnMgPiBsaVwiKTtcbiAgICB9O1xuXG4gICAgdmFyIF9pc1RvdWNoRGV2aWNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuICEhKFwib250b3VjaHN0YXJ0XCIgaW4gd2luZG93IHx8IG5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyk7XG4gICAgfTtcblxuICAgIC8vINGE0YPQvdC60YbQuNGPLCDQvtGB0YPRidC10YHRgtCy0LvRj9GO0YnQsNGPINGD0YHRgtCw0L3QvtCy0LrRgyDQvtCx0YDQsNCx0L7RgtGH0LjQutC+0LIg0LTQu9GPINGB0L7QsdGL0YLQuNC5XG4gICAgdmFyIF9zZXRVcExpc3RlbmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfc3RhcnRYID0gMDtcbiAgICAgIGlmIChfaXNUb3VjaERldmljZSgpKSB7XG4gICAgICAgIF9zbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICBfc3RhcnRYID0gZS5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYO1xuICAgICAgICAgIF9zdGFydEF1dG9wbGF5KCk7XG4gICAgICAgIH0pO1xuICAgICAgICBfc2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIHZhciBfZW5kWCA9IGUuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WCxcbiAgICAgICAgICAgIF9kZWx0YVggPSBfZW5kWCAtIF9zdGFydFg7XG4gICAgICAgICAgaWYgKF9kZWx0YVggPiBfc3RlcFRvdWNoKSB7XG4gICAgICAgICAgICBfbW92ZShcInByZXZcIik7XG4gICAgICAgICAgfSBlbHNlIGlmIChfZGVsdGFYIDwgLV9zdGVwVG91Y2gpIHtcbiAgICAgICAgICAgIF9tb3ZlKFwibmV4dFwiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgX3N0YXJ0QXV0b3BsYXkoKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gX3NsaWRlckNvbnRyb2xzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgX3NsaWRlckNvbnRyb2xzW2ldLmNsYXNzTGlzdC5hZGQoXCJzbGlkZXJfX2NvbnRyb2xfc2hvd1wiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgX3NsaWRlci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInNsaWRlcl9fY29udHJvbFwiKSkge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBfbW92ZShcbiAgICAgICAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInNsaWRlcl9fY29udHJvbF9uZXh0XCIpXG4gICAgICAgICAgICAgID8gXCJuZXh0XCJcbiAgICAgICAgICAgICAgOiBcInByZXZcIlxuICAgICAgICAgICk7XG4gICAgICAgICAgX3N0YXJ0QXV0b3BsYXkoKTtcbiAgICAgICAgfSBlbHNlIGlmIChlLnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNsaWRlLXRvXCIpKSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIF9tb3ZlVG8ocGFyc2VJbnQoZS50YXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1zbGlkZS10b1wiKSkpO1xuICAgICAgICAgIF9zdGFydEF1dG9wbGF5KCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAoZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSBcImhpZGRlblwiKSB7XG4gICAgICAgICAgICBfc3RvcEF1dG9wbGF5KCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF9zdGFydEF1dG9wbGF5KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBmYWxzZVxuICAgICAgKTtcbiAgICAgIGlmIChfY29uZmlnLmlzUGF1c2VPbkhvdmVyICYmIF9jb25maWcuaXNBdXRvcGxheSkge1xuICAgICAgICBfc2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWVudGVyXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfc3RvcEF1dG9wbGF5KCk7XG4gICAgICAgIH0pO1xuICAgICAgICBfc2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfc3RhcnRBdXRvcGxheSgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8g0LTQvtCx0LDQstC70Y/QtdC8INC40L3QtNC40LrQsNGC0L7RgNGLINC6INGB0LvQsNC50LTQtdGA0YNcbiAgICBfYWRkSW5kaWNhdG9ycygpO1xuICAgIC8vINGD0YHRgtCw0L3QvtCy0LvQuNCy0LDQtdC8INC+0LHRgNCw0LHQvtGC0YfQuNC60Lgg0LTQu9GPINGB0L7QsdGL0YLQuNC5XG4gICAgX3NldFVwTGlzdGVuZXJzKCk7XG4gICAgLy8g0LfQsNC/0YPRgdC60LDQtdC8INCw0LLRgtC+0LzQsNGC0LjRh9C10YHQutGD0Y4g0YHQvNC10L3RgyDRgdC70LDQudC00L7Qsiwg0LXRgdC70Lgg0YPRgdGC0LDQvdC+0LLQu9C10L0g0YHQvtC+0YLQstC10YLRgdGC0LLRg9GO0YnQuNC5INC60LvRjtGHXG4gICAgX3N0YXJ0QXV0b3BsYXkoKTtcblxuICAgIHJldHVybiB7XG4gICAgICAvLyDQvNC10YLQvtC0INGB0LvQsNC50LTQtdGA0LAg0LTQu9GPINC/0LXRgNC10YXQvtC00LAg0Log0YHQu9C10LTRg9GO0YnQtdC80YMg0YHQu9Cw0LnQtNGDXG4gICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9tb3ZlKFwibmV4dFwiKTtcbiAgICAgIH0sXG4gICAgICAvLyDQvNC10YLQvtC0INGB0LvQsNC50LTQtdGA0LAg0LTQu9GPINC/0LXRgNC10YXQvtC00LAg0Log0L/RgNC10LTRi9C00YPRidC10LzRgyDRgdC70LDQudC00YNcbiAgICAgIGxlZnQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX21vdmUoXCJwcmV2XCIpO1xuICAgICAgfSxcbiAgICAgIC8vINC80LXRgtC+0LQg0L7RgtC60LvRjtGH0LDRjtGJ0LjQuSDQsNCy0YLQvtC80LDRgtC40YfQtdGB0LrRg9GOINGB0LzQtdC90YMg0YHQu9Cw0LnQtNC+0LJcbiAgICAgIHN0b3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX2NvbmZpZy5pc0F1dG9wbGF5ID0gZmFsc2U7XG4gICAgICAgIF9zdG9wQXV0b3BsYXkoKTtcbiAgICAgIH0sXG4gICAgICAvLyDQvNC10YLQvtC0INC30LDQv9GD0YHQutCw0Y7RidC40Lkg0LDQstGC0L7QvNCw0YLQuNGH0LXRgdC60YPRjiDRgdC80LXQvdGDINGB0LvQsNC50LTQvtCyXG4gICAgICBjeWNsZTogZnVuY3Rpb24gKCkge1xuICAgICAgICBfY29uZmlnLmlzQXV0b3BsYXkgPSB0cnVlO1xuICAgICAgICBfc3RhcnRBdXRvcGxheSgpO1xuICAgICAgfSxcbiAgICB9O1xuICB9O1xufSkoKTtcblxuc2xpZGVTaG93KFwiLmFydGljbGUtbGlzdFwiLCB7XG4gIGlzQXV0b3BsYXk6IGZhbHNlLFxufSk7XG5zbGlkZVNob3coXCIubGluay1hcnRpY2xlXCIsIHtcbiAgaXNBdXRvcGxheTogZmFsc2UsXG59KTtcbiJdfQ==
